console.log('Service Worker Works');

self.addEventListener('push', e => {
    const data = e.data.json();
    console.log(data)
    console.log('Notification Received');
    self.registration.showNotification(data.title, {
        body: data.message,
        icon: 'data:image/png;base64,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'
    });
});